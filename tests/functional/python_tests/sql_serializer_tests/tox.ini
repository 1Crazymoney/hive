[tox]
envlist = py36
skipsdist = True

[testenv]
setenv =
    HIVE_BUILD_ROOT_PATH = {env:HIVE_BUILD_ROOT_PATH}
    PYTHONPATH = {env:PYTHONPATH}
    HIVED_PATH = {env:HIVED_PATH}
    CLI_WALLET_PATH = {env:CLI_WALLET_PATH}
    GET_DEV_KEY_PATH = {env:GET_DEV_KEY_PATH}
deps =
    pytest==6.2.5
    pytest-timeout==2.0.1
    pytest-repeat==0.9.1
    sqlalchemy==1.4.25
    sqlalchemy-utils==0.37.9
    psycopg2==2.9.1
    requests==2.25.1
whitelist_externals =
    git
    env
commands =
    #env GIT_ROOT=$(git rev-parse --show-toplevel) python script.py
    pytest -s --junitxml="./report.xml" {posargs}
